(()=>{"use strict";const t=function(){const t=document.getElementById("addProjectBtn"),e=document.getElementById("cancelNewProject"),n=document.getElementById("projectForm"),o=function(){n.style.cssText="display: flex",t.style.cssText="display: none"},d=function(){console.log("hide"),n.style.cssText="display: none",t.style.cssText="display: block",n.reset()};return{startForm:function(){t.addEventListener("click",o),e.addEventListener("click",d)},addProject:function(t){n.addEventListener("submit",t)}}}();function e(t,e){this.title=t,this.todoList=e}const n=function(){const t=function(t,e){JSON.parse(localStorage.getItem(e)).forEach((e=>{t.push(e)}))};return{getList:t,populateStorage:function(t,e){localStorage.setItem(e,JSON.stringify(t))},checkStorage:function(e,n){if(localStorage.getItem(n))return t(e,n),!0;e=[]}}}(),o=function(){const t=document.getElementById("projectTitleInput"),d=[];return{deleteProject:function(t){let e=d.indexOf(t);d.splice(e,1),n.populateStorage(d,"projectList")},projectList:d,handleAddProject:function(){console.count("handleProject");let o=new e(t.value,[]);return d.push(o),n.populateStorage(d,"projectList"),o},updateProject:function(t,e){t.title=e,n.populateStorage(o.projectList,"projectList")}}}();function d(t,e,n,o){this.title=t,this.dueDate=e,this.priority=n,this.description=o,this.done=!1}const i=function(){const t=document.getElementById("todoTitleInput"),e=document.getElementById("dateInput"),i=document.getElementById("priorities"),c=document.getElementById("todoDescInput");return{deleteTodo:function(t,e){let d=t.todoList.indexOf(e);t.todoList.splice(d,1),n.populateStorage(o.projectList,"projectList")},handleAddTodo:function(l){let r=i.options[i.selectedIndex].text,s=new d(t.value,e.value,r,c.value);return l.todoList.push(s),n.populateStorage(o.projectList,"projectList"),s},handleChangeState:function(t,e){t.done=e.checked,console.log(t.done),n.populateStorage(o.projectList,"projectList")},updateTodo:function(t,e,d,i,c){t.title=e,t.dueDate=d,t.priority=i,t.description=c,n.populateStorage(o.projectList,"projectList")},handleChecked:function(t,e){e.done=t.checked,n.populateStorage(o.projectList,"projectList")}}}(),c=function(){const t=document.getElementById("todoList"),e=function(t,e){for(;t.childNodes.length!==e;)t.removeChild(t.lastChild)},n=function(t,e,n){let o=document.createElement("p");o.setAttribute("id","todoTitleP"),o.textContent=e.title;let c=document.createElement("p");c.setAttribute("id","todoDueDateP"),c.textContent=e.dueDate;let l=document.createElement("p");l.setAttribute("id","todoPriorityP"),l.textContent=e.priority;let r=document.createElement("button");r.setAttribute("id","editTodoBtn"),r.textContent="Edit";let s=document.createElement("button");s.setAttribute("id","todoDelBtn"),s.textContent="Delete";let u=document.createElement("input");u.setAttribute("type","checkbox"),u.setAttribute("id","doneCheck"),u.checked=e.done,u.addEventListener("click",(()=>{console.log(e.done),i.handleChecked(u,e)})),t.appendChild(u),t.appendChild(o),t.appendChild(c),t.appendChild(l),t.appendChild(r),t.appendChild(s),function(t,e,n,o){t.addEventListener("click",(()=>{i.deleteTodo(n,e),o.remove()}))}(s,e,n,t),function(t,e){e.addEventListener("change",(()=>{i.handleChangeState(t,e)}))}(e,u),d(r,t,e,n)},o=function(e,o){let d=document.createElement("div");d.setAttribute("id","todoCard"),t.appendChild(d),n(d,e,o)},d=function(t,o,d,c){t.addEventListener("click",(()=>{e(o,0),o.setAttribute("id","test");let t=document.createElement("form");t.setAttribute("id","todoEditForm");let l=document.createElement("input");l.setAttribute("id","todoTitleEdit"),l.value=d.title;let r=document.createElement("input"),s=(new Date).toISOString().substr(0,10);r.setAttribute("id","todoDueDateEdit"),r.setAttribute("type","date"),r.setAttribute("min",s),r.value=d.dueDate;let u=document.createElement("select");u.setAttribute("id","todoPriorityEdit");let a=document.createElement("button");a.setAttribute("id","saveEditedTodo"),a.textContent="save";let p=document.createElement("button");p.setAttribute("id","todoDelBtn"),p.textContent="Cancel";let m=document.createElement("textarea");m.setAttribute("id","todoDescription"),m.setAttribute("placeholder","Description"),m.textContent=d.description,o.appendChild(t),t.appendChild(l),t.appendChild(r),t.appendChild(u),["High","Medium","Low"].forEach((t=>{let e=document.createElement("option");e.textContent=`${t} Priority`,e.value=t,u.append(e)})),t.appendChild(a),t.appendChild(p),t.appendChild(m),function(t,o,d,c,l,r,s,u){o.addEventListener("click",(()=>{t.setAttribute("id","todoCard");let o=l.value,a=r.value,p=`${s.value} Priority`,m=u.value;i.updateTodo(d,o,a,p,m),e(t,0),n(t,d,c)}))}(o,a,d,c,l,r,u,m),function(t,o,d,i){t.addEventListener("click",(()=>{o.setAttribute("id","todoCard"),e(o,0),n(o,d,i)}))}(p,o,d,c)}))};return{renderTodos:function(n){e(t,0),n.todoList.forEach((t=>{o(t,n)}))},displayTodo:o}}(),l=function(){const t=document.getElementById("currentProject"),e=document.getElementById("addTodoBtn"),n=document.getElementById("todoForm"),d=document.getElementById("todoPopUp"),l=document.getElementById("todoList");let r;const s=function(t){t.preventDefault(),d.style.display="none",e.style.display="block";let o=i.handleAddTodo(r);c.displayTodo(o,r),n.reset()};return{selectProject:function(n){t.textContent=n.title,r=n,c.renderTodos(r),e.style.display="block"},defaultProject:function(){o.projectList[0]?(console.count("defaultProject"),t.textContent=o.projectList[0].title,r=o.projectList[0],c.renderTodos(r)):(function(t,e){for(;0!==t.childNodes.length;)t.removeChild(t.lastChild)}(l),t.innerText='Looks like there are no projects. You can create one by clicking "Add new Project"',e.style.display="none")},submitProjectEvent:function(){n.addEventListener("submit",s)}}}(),r=function(){const t=document.getElementById("projectSection"),e=function(t){for(;0!==t.childNodes.length;)t.removeChild(t.lastChild)},n=function(t,d){const i=document.createElement("p");i.setAttribute("id","projectTitle"),i.textContent=d.title;const c=document.createElement("button");c.setAttribute("id","projectEditBtn"),c.textContent="Edit";const r=document.createElement("button");r.textContent="Delete",r.setAttribute("id","deleteProjectBtn"),t.appendChild(i),t.appendChild(c),t.appendChild(r),function(t,e,n){t.addEventListener("click",(t=>{t.stopPropagation(),o.deleteProject(e),n.remove(),o.projectList[0]||l.defaultProject()}))}(r,d,t),function(t,d,i,c,r){i.addEventListener("click",(()=>{let s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("id","editProjectTitleInpu"),s.setAttribute("placeholder","Project Title"),s.value=r.title,d=t.replaceChild(s,d);let u=document.createElement("button");u.setAttribute("id","saveProjectTitleBtn"),u.textContent="Save",i=t.replaceChild(u,i);let a=document.createElement("button");a.setAttribute("id","cancelEditProjectBtn"),a.textContent="Cancel",c=t.replaceChild(a,c),function(t,d,i,c){t.addEventListener("click",(t=>{t.stopPropagation(),d.value?(o.updateProject(i,d.value),e(c),n(c,i),l.selectProject(i)):alert("Please enter a name for the project")}))}(u,s,r,t),function(t,o,d){t.addEventListener("click",(t=>{t.stopPropagation(),e(o),n(o,d)}))}(a,t,r),l.selectProject(r)}))}(t,i,c,r,d)},d=function(e){const o=document.createElement("div");o.setAttribute("id","projectCard"),t.appendChild(o),n(o,e),o.addEventListener("click",(()=>{l.selectProject(e)}))};return{start:function(){e(t),o.projectList.forEach((t=>{d(t)})),l.submitProjectEvent(),l.defaultProject()},displayProject:d}}(),s=function(){const t=document.getElementById("addTodoBtn"),e=document.getElementById("cancelNewTodo"),n=document.getElementById("todoForm"),o=document.getElementById("todoPopUp"),d=function(){o.style.cssText="display: flex",t.style.cssText="display: none"},i=function(){o.style.cssText="display: none",t.style.cssText="display: block",n.reset()};return{startForm:function(){t.addEventListener("click",d),e.addEventListener("click",i)}}}();(function(){const e=document.getElementById("projectForm"),d=document.getElementById("dateInput"),i=function(t){t.preventDefault();let n=o.handleAddProject();r.displayProject(n),e.style.cssText="display: none",addProjectBtn.style.cssText="display: block",l.selectProject(n),e.reset()};return{startApp:function(){!function(){let t=(new Date).toISOString().substr(0,10);d.setAttribute("min",t)}(),n.checkStorage(o.projectList,"projectList")&&r.start(),t.startForm(),t.addProject(i),s.startForm(),l.defaultProject()}}})().startApp()})();
//# sourceMappingURL=main.js.map