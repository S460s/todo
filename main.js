(()=>{"use strict";const t=function(){const t=document.getElementById("addProjectBtn"),e=document.getElementById("cancelNewProject"),o=document.getElementById("projectForm"),n=function(){console.log("show"),o.style.cssText="display: flex",t.style.cssText="display: none"},d=function(){console.log("hide"),o.style.cssText="display: none",t.style.cssText="display: block",o.reset()};return{startForm:function(){t.addEventListener("click",n),e.addEventListener("click",d)},addProject:function(t){o.addEventListener("submit",t)}}}();class e{constructor(t,e){this.title=t,this.todoList=e}}const o=function(){const t=function(t,e){JSON.parse(localStorage.getItem(e)).forEach((e=>{t.push(e)}))};return{getList:t,populateStorage:function(t,e){localStorage.setItem(e,JSON.stringify(t))},checkStorage:function(e,o){if(localStorage.getItem(o))return t(e,o),!0;e=[]}}}(),n=function(){const t=document.getElementById("projectTitleInput"),d=[];return{deleteProject:function(t){let e=d.indexOf(t);d.splice(e,1),o.populateStorage(d,"projectList")},projectList:d,handleAddProject:function(){let n=new e(t.value,[]);return d.push(n),o.populateStorage(d,"projectList"),console.table(d),n},updateProject:function(t,e){t.title=e,o.populateStorage(n.projectList,"projectList")}}}();class d{constructor(t,e,o,n){this.title=t,this.dueDate=e,this.priority=o,this.description=n,this.done=!1}}const i=function(){const t=document.getElementById("todoTitleInput"),e=document.getElementById("dateInput"),i=document.getElementById("priorities"),c=document.getElementById("todoDescInput");return{deleteTodo:function(t,e){let d=t.todoList.indexOf(e);t.todoList.splice(d,1),o.populateStorage(n.projectList,"projectList")},handleAddTodo:function(l){let r=i.options[i.selectedIndex].text,s=new d(t.value,e.value,r,c.value);return l.todoList.push(s),o.populateStorage(n.projectList,"projectList"),console.log(l.title),console.table(l.todoList),console.log("TEST"),s},handleChangeState:function(t,e){t.done=e.value,o.populateStorage(n.projectList,"projectList")},updateTodo:function(t,e,d,i,c){console.log(t),console.log(e),t.title=e,t.dueDate=d,t.priority=i,t.description=c,o.populateStorage(n.projectList,"projectList")}}}(),c=function(){const t=document.getElementById("todoList"),e=function(t,e){for(;t.childNodes.length!==e;)t.removeChild(t.lastChild)},o=function(t,e,o){let n=document.createElement("p");n.setAttribute("id","todoTitleP"),n.textContent=e.title;let c=document.createElement("p");c.setAttribute("id","todoDueDateP"),c.textContent=e.dueDate;let l=document.createElement("p");l.setAttribute("id","todoPriorityP"),l.textContent=e.priority;let r=document.createElement("p");r.setAttribute("id","editTodoBtn"),r.textContent="edit";let s=document.createElement("p");s.setAttribute("id","todoDelBtn"),s.textContent="x";let u=document.createElement("input");u.setAttribute("type","checkbox"),u.setAttribute("id","doneCheck"),u.checked=e.done,t.appendChild(u),t.appendChild(n),t.appendChild(c),t.appendChild(l),t.appendChild(r),t.appendChild(s),function(t,e,o,n){t.addEventListener("click",(()=>{i.deleteTodo(o,e),n.remove()}))}(s,e,o,t),function(t,e){e.addEventListener("change",(()=>{i.handleChangeState(t,e)}))}(e,u),d(r,t,e,o)},n=function(e,n){let d=document.createElement("div");d.setAttribute("id","todoCard"),t.appendChild(d),o(d,e,n)},d=function(t,n,d,c){t.addEventListener("click",(()=>{e(n,0),n.setAttribute("id","test");let t=document.createElement("form");t.setAttribute("id","todoEditForm");let l=document.createElement("input");l.setAttribute("id","todoTitleEdit"),l.value=d.title;let r=document.createElement("input"),s=(new Date).toISOString().substr(0,10);r.setAttribute("id","todoDueDateEdit"),r.setAttribute("type","date"),r.setAttribute("min",s),r.value=d.dueDate;let u=document.createElement("select");u.setAttribute("id","todoPriorityEdit");let a=document.createElement("p");a.setAttribute("id","saveEditedTodo"),a.textContent="save";let p=document.createElement("p");p.setAttribute("id","todoDelBtn"),p.textContent="cancel";let m=document.createElement("textarea");m.setAttribute("id","todoDescription"),m.textContent=`Description: ${d.description}`,n.appendChild(t),t.appendChild(l),t.appendChild(r),t.appendChild(u),["High","Medium","Low"].forEach((t=>{let e=document.createElement("option");e.textContent=`${t} Priority`,e.value=t,u.append(e)})),t.appendChild(a),t.appendChild(p),t.appendChild(m),function(t,n,d,c,l,r,s,u){n.addEventListener("click",(()=>{t.setAttribute("id","todoCard");let n=l.value,a=r.value,p=s.value,m=u.value;console.log(n),i.updateTodo(d,n,a,p,m),e(t,0),o(t,d,c)}))}(n,a,d,c,l,r,u,m),function(t,n,d,i){t.addEventListener("click",(()=>{n.setAttribute("id","todoCard"),e(n,0),o(n,d,i)}))}(p,n,d,c)}))};return{renderTodos:function(o){e(t,0),o.todoList.forEach((t=>{n(t,o)}))},displayTodo:n}}(),l=function(){const t=document.getElementById("currentProject"),e=document.getElementById("addTodoBtn"),o=document.getElementById("todoForm"),d=document.getElementById("todoPopUp");let l;const r=function(t){t.preventDefault(),console.log(l),d.style.display="none",e.style.display="block";let n=i.handleAddTodo(l);console.log(n),c.displayTodo(n,l),o.reset()};return{startLogic:function(e){!function(e){t.textContent=e.title,l=e,c.renderTodos(l)}(e)},defaultProject:function(){t.textContent=n.projectList[0].title,l=n.projectList[0],c.renderTodos(l)},submitProjectEvent:function(){o.addEventListener("submit",r)}}}(),r=function(){const t=document.getElementById("projectSection"),e=document.getElementById("addProjectBtn"),o=function(t){for(;0!==t.childNodes.length;)t.removeChild(t.lastChild)},d=function(t,i){const c=document.createElement("p");c.setAttribute("id","projectTitle"),c.textContent=i.title;const l=document.createElement("button");l.setAttribute("id","projectEditBtn"),l.textContent="Edit";const r=document.createElement("button");r.textContent="Delete",r.setAttribute("id","deleteProjectBtn"),t.appendChild(c),t.appendChild(l),t.appendChild(r),function(t,e,o){t.addEventListener("click",(()=>{n.deleteProject(e),o.remove()}))}(r,i,t),function(t,i,c,l,r){c.addEventListener("click",(s=>{s.stopPropagation();let u=document.createElement("input");u.setAttribute("type","text"),u.setAttribute("id","editProjectTitleInpu"),u.setAttribute("placeholder","Project Title"),u.value=r.title,i=t.replaceChild(u,i);let a=document.createElement("button");a.setAttribute("id","saveProjectTitleBtn"),a.textContent="Save",c=t.replaceChild(a,c);let p=document.createElement("button");p.setAttribute("id","cancelEditProjectBtn"),p.textContent="Cancel",l=t.replaceChild(p,l),function(t,i,c,l){t.addEventListener("click",(()=>{i.value?(n.updateProject(c,i.value),o(l),d(l,c),e.style.display="block"):alert("Please enter a name for the project")}))}(a,u,r,t),function(t,e,n){t.addEventListener("click",(t=>{t.stopPropagation(),o(e),d(e,n)}))}(p,t,r)}))}(t,c,l,r,i)},i=function(e){const o=document.createElement("div");o.setAttribute("id","projectCard"),t.appendChild(o),d(o,e),console.log("display project, DOM project"),console.log(e),o.addEventListener("click",(()=>{l.startLogic(e)}))};return{start:function(){o(t),n.projectList.forEach((t=>{i(t)})),l.submitProjectEvent(),l.defaultProject()},displayProject:i}}(),s=function(){const t=document.getElementById("addTodoBtn"),e=document.getElementById("cancelNewTodo"),o=document.getElementById("todoForm"),n=document.getElementById("todoPopUp"),d=function(){console.log("show"),n.style.cssText="display: flex",t.style.cssText="display: none"},i=function(){console.log("hide"),n.style.cssText="display: none",t.style.cssText="display: block",o.reset()};return{startForm:function(){t.addEventListener("click",d),e.addEventListener("click",i)},addTodo:function(t){o.addEventListener("submit",t)}}}();(function(){const e=document.getElementById("projectForm"),d=document.getElementById("dateInput"),i=function(t){t.preventDefault(),r.displayProject(n.handleAddProject()),e.style.cssText="display: none",addProjectBtn.style.cssText="display: block",e.reset()};return{startApp:function(){!function(){let t=(new Date).toISOString().substr(0,10);d.setAttribute("min",t)}(),o.checkStorage(n.projectList,"projectList")&&r.start(),t.startForm(),t.addProject(i),s.startForm()}}})().startApp()})();
//# sourceMappingURL=main.js.map